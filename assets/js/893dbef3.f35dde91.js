"use strict";(self.webpackChunkopensource_website=self.webpackChunkopensource_website||[]).push([[2381],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(h,s(s({ref:t},p),{},{components:n})):a.createElement(h,s({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[d]="string"==typeof e?e:r,s[1]=o;for(var c=2;c<i;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},482:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:8},s="9.Instance-Manager",o={unversionedId:"help/Tutorials/nodejs/basics/instance-manager",id:"help/Tutorials/nodejs/basics/instance-manager",title:"9.Instance-Manager",description:"The instance Manager manages the instances in NoPE.",source:"@site/docs/help/Tutorials/nodejs/03-basics/09-instance-manager.md",sourceDirName:"help/Tutorials/nodejs/03-basics",slug:"/help/Tutorials/nodejs/basics/instance-manager",permalink:"/NoPE-Docs/docs/help/Tutorials/nodejs/basics/instance-manager",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"8. RPC-Manager",permalink:"/NoPE-Docs/docs/help/Tutorials/nodejs/basics/rpc-manager"},next:{title:"Advanced Tutorials",permalink:"/NoPE-Docs/docs/category/advanced-tutorials"}},l={},c=[{value:"Description",id:"description",level:2},{value:"Interface to interact with the Instance Manager",id:"interface-to-interact-with-the-instance-manager",level:3},{value:"Interact with the Instance-Manager",id:"interact-with-the-instance-manager",level:2},{value:"List a Instance",id:"list-a-instance",level:3},{value:"Working with instance remotely:",id:"working-with-instance-remotely",level:3},{value:"What is shared using a remote instance",id:"what-is-shared-using-a-remote-instance",level:4},{value:"Constructors",id:"constructors",level:3}],p={toc:c},d="wrapper";function u(e){let{components:t,...n}=e;return(0,r.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"9instance-manager"},"9.Instance-Manager"),(0,r.kt)("p",null,"The instance Manager manages the instances in ",(0,r.kt)("inlineCode",{parentName:"p"},"NoPE"),". "),(0,r.kt)("h2",{id:"description"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"instanceManager")," is used to create, remove and get access to instances. the approach is based on the object oriented method. I.e. there are the following elements:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Classes: ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"These describe a blueprint of a behavior. "),(0,r.kt)("li",{parentName:"ul"},"Are identified in ",(0,r.kt)("inlineCode",{parentName:"li"},"NoPE")," by an ID / a ",(0,r.kt)("inlineCode",{parentName:"li"},"type"),"."),(0,r.kt)("li",{parentName:"ul"},"Classes have constructors that create an instance: ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Offered in ",(0,r.kt)("inlineCode",{parentName:"li"},"NoPE")," as a service (service name includes the identifier, among other things)."))))),(0,r.kt)("li",{parentName:"ul"},"Instances:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Are instances of a class (corresponds to so-called objects)."),(0,r.kt)("li",{parentName:"ul"},"Are identified in ",(0,r.kt)("inlineCode",{parentName:"li"},"NoPE")," by identifier (here ",(0,r.kt)("inlineCode",{parentName:"li"},"strings"),")"),(0,r.kt)("li",{parentName:"ul"},"have the properties, methods and eventEmitters created in the classes."),(0,r.kt)("li",{parentName:"ul"},'Can be "destroyed" via so-called destroyers. Thus they are deleted.')))),(0,r.kt)("p",null,"The manager keeps track of the available instances in the network and allows to create ",(0,r.kt)("inlineCode",{parentName:"p"},"wrappers")," for these instances. This allows to simplify and unify the access for the user of instances running in a different runtime. To make this possible it uses the following elements:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"connectivityManager"),": see above. Used to identify new and dead dispatchers. ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"if a new ",(0,r.kt)("inlineCode",{parentName:"li"},"dispatcher")," is identified, standardized descriptions of all hosted instances are sent."),(0,r.kt)("li",{parentName:"ul"},"if a ",(0,r.kt)("inlineCode",{parentName:"li"},"dispatcher")," is identified as dead, the ",(0,r.kt)("inlineCode",{parentName:"li"},"wrappers")," are deleted or removed."))),(0,r.kt)("li",{parentName:"ul"},"rpcManager",(0,r.kt)("inlineCode",{parentName:"li"},": see above. Used here to distribute "),"constructors",(0,r.kt)("inlineCode",{parentName:"li"},"of classes and"),"destructors` of instances on the network. I.e.:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The creation of a new instance corresponds to a service call."),(0,r.kt)("li",{parentName:"ul"},"Deleting an instance corresponds to a service call"),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("inlineCode",{parentName:"li"},"constructors")," of the classes and ",(0,r.kt)("inlineCode",{parentName:"li"},"destructors")," of the instances follow a defined naming convention, so that they can be identified by the ",(0,r.kt)("inlineCode",{parentName:"li"},"instanceManager"),".")))),(0,r.kt)("h3",{id:"interface-to-interact-with-the-instance-manager"},"Interface to interact with the Instance Manager"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"InstanceManger")," can be interacted with using the following methods and properties:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"getInstancesOfType"),": returns all available instances of a given type."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"instanceExists"),": tests if an instance with the given identifier exists."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"getInstanceDescription"),": Returns the standardized description of an instance. This information is also shared with all ",(0,r.kt)("inlineCode",{parentName:"li"},"instanceManagers")," on the network."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"registerInstance"),": Allows to ",(0,r.kt)("strong",{parentName:"li"},"manually")," register an instance."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deleteInstance"),": Allows the ",(0,r.kt)("strong",{parentName:"li"},"manual")," removal of an instance."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"registerConstructor"),": Registers a constructor. Among other things, it is possible to specify the number of instances that may be created on the ",(0,r.kt)("inlineCode",{parentName:"li"},"instanceManager"),". If more than one ",(0,r.kt)("inlineCode",{parentName:"li"},"dispatcher")," is able to create an instance with the given type, then - as with ",(0,r.kt)("inlineCode",{parentName:"li"},"rpcManger")," - the selection follows via a so-called selector."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"unregisterConstructor"),": Removes a constructor."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"constructorExists"),": Tests if a constructor is known for a type."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"createInstance"),": Allows the creation of an instance. This may be the case for remote dispatchers or for the same element. Only a wrapper communicating with a dispatcher is returned, since we do not know where the element is provided. To know which ",(0,r.kt)("inlineCode",{parentName:"li"},"instanceManager")," hosts the instance can use the ",(0,r.kt)("inlineCode",{parentName:"li"},"getDispatcherForInstance")," method. The returned ",(0,r.kt)("inlineCode",{parentName:"li"},"wrapper"),' behaves like a normal "internal" class. If this method is called, a ',(0,r.kt)("inlineCode",{parentName:"li"},"GenericModule")," is returned as type by default. If a special wrapper is required for a type, such wrappers can be defined and customized via ",(0,r.kt)("inlineCode",{parentName:"li"},"registerInternalWrapperGenerator")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"unregisterInternalWrapperGenerator"),". Here, too, the type is decisive.")),(0,r.kt)("h2",{id:"interact-with-the-instance-manager"},"Interact with the Instance-Manager"),(0,r.kt)("p",null,"Firstly we have to create a Dispatcher, that we are using to access the ",(0,r.kt)("inlineCode",{parentName:"p"},"instanceManager")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// First lets install nope using npm\nimport * as nope from "nope-js-node";\n\n// Create a communicator:\n// We will use the event layer (which just runs internally)\nconst communicator = nope.getLayer("event");\n\n// Lets create our dispatcher\n\n// 1. Dispatcher simulates our local system\nconst localDispatcher = nope.dispatcher.getDispatcher({\n  communicator,\n  id: "local"\n}, {\n  singleton: false,\n  useBaseServices: false\n});\n\n// Lets wait for our element to be ready.\nawait localDispatcher.ready.waitFor();\n\n// Create a short cut:\nconst instanceManager = localDispatcher.instanceManager;\n')),(0,r.kt)("p",null,"We are now able to interact with the instance Manager."),(0,r.kt)("h3",{id:"list-a-instance"},"List a Instance"),(0,r.kt)("p",null,"To get all instance we can use the property ",(0,r.kt)("inlineCode",{parentName:"p"},"instances"),". It allows us to subscribe for changes (",(0,r.kt)("inlineCode",{parentName:"p"},"instances.onChange"),") or read all descriptions of the instances. Now lets find out if there are some instance available."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"instanceManager.instances.data.getContent()\n")),(0,r.kt)("p",null,"The content will be:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[]\n")),(0,r.kt)("p",null,"Obviously there is no instance. So lets create one. "),(0,r.kt)("admonition",{title:"Info",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"All instances must be a ",(0,r.kt)("inlineCode",{parentName:"p"},"NopeBaseModule"))),(0,r.kt)("p",null,"For our tutorial we will create a Helloworld Module:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'const injectable = require("inversify").injectable;\n\nclass HelloWorldModule extends nope.InjectableNopeBaseModule\n{\n\n    async greet(name) {\n        return "Hello " + name + " from our Module ("+this.identifier+")!"\n    }\n\n\n    /**\n     * Our initializer\n     * \n     * We can add addtional parameters requried during ininitalization.\n     */\n    async init() {\n        this.author = {\n            forename: "M.Karkowski",\n            surename: "Karkowski",\n            mail: "m.karkowski@zema.de"\n        };\n\n        this.description = "An Example";\n        this.version = {\n            date: new Date("5.3.2023"),\n            version: 1.0,\n        };\n\n        await super.init();\n        \n        await this.registerMethod(\n            "greet",\n            this.greet.bind(this),\n            {\n                schema: {\n                    type: "function",\n                    inputs: [\n                        {\n                            // The Description of the Parameter\n                            description: "The name which should receive a Greeting",\n                            // Its used name in the function (see the arguments of the function)\n                            name: "name",\n                            // The Schema follows a default JSON-Schema\n                            schema: {\n                                type: "string"\n                            }\n                        }\n                    ],\n                    outputs: {\n                        // TODO: Add implementation here!\n                    },\n                }\n            }\n        );                            \n    }\n}\n')),(0,r.kt)("p",null,"Now lets create an instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'\nconst instance = new HelloWorldModule(localDispatcher)\n\n// Assign an identifier\ninstance.identifier = "instance"\n\n// and initialize the instance.\n\nawait instance.init();\n')),(0,r.kt)("p",null,"Now, we add our instance to the Dispatcher:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"await instanceManager.registerInstance(instance);\n")),(0,r.kt)("p",null,"Now our instance is registered. Lets try to find it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"instanceManager.instances.data.getContent()\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"instances")," attribute will now list:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[\n  {\n    author: {\n      forename: 'M.Karkowski',\n      surename: 'Karkowski',\n      mail: 'm.karkowski@zema.de'\n    },\n    description: 'An Example',\n    methods: { greet: [Object] },\n    events: {},\n    identifier: 'instance',\n    properties: {},\n    type: 'HelloWorldModule',\n    version: { date: 2023-05-02T22:00:00.000Z, version: 1 },\n    uiLinks: []\n  }\n]\n")),(0,r.kt)("h3",{id:"working-with-instance-remotely"},"Working with instance remotely:"),(0,r.kt)("p",null,"The main idea is, to keep share instances and allow remote access to them. Lets look at this possiblities by creating an simulated remote dispatcher:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// 2. Dispatcher simulates our remote system\nconst remoteDispatcher = nope.dispatcher.getDispatcher({\n  communicator,\n  id: "remote"\n}, {\n  singleton: false,\n  useBaseServices: false\n});\n')),(0,r.kt)("p",null,"Now we wait for our dispatcher to be ready."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"// Lets wait for our element to be ready.\nawait remoteDispatcher.ready.waitFor();\n")),(0,r.kt)("p",null,"Lets try to check, whether the instance manager has received the instances:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"remoteDispatcher.instanceManager.instances.data.getContent()\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"instances")," attribute will now list:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[\n  {\n    author: {\n      forename: 'M.Karkowski',\n      surename: 'Karkowski',\n      mail: 'm.karkowski@zema.de'\n    },\n    description: 'An Example',\n    methods: { greet: [Object] },\n    events: {},\n    identifier: 'instance',\n    properties: {},\n    type: 'HelloWorldModule',\n    version: { date: 2023-05-02T22:00:00.000Z, version: 1 },\n    uiLinks: []\n  }\n]\n")),(0,r.kt)("p",null,"Okay, we got the Instance but how do we access it?"),(0,r.kt)("p",null,"Therefore we create an wrapper that will do all the ",(0,r.kt)("em",{parentName:"p"},"magic")," for us"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'let wrapper = await remoteDispatcher.instanceManager.generateWrapper({\n    identifier: "instance",     // The name of the instance\n    type: "HelloWorldModule",   // Required for typchecks.\n});\n')),(0,r.kt)("admonition",{title:"Warning",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"This is not the recommended Way to create wrappers. You should work using constructors and the method ",(0,r.kt)("inlineCode",{parentName:"p"},"createInstance")," to enable management and disposing Instances."),(0,r.kt)("p",{parentName:"admonition"},"You are only allowed to use the method ",(0,r.kt)("inlineCode",{parentName:"p"},"generateWrapper")," for manually registered instances!  ")),(0,r.kt)("p",null,"Now that we have our wrapper, we can just call the methods like we would interact with the element."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'await\n\nwrapper.greet("Example");\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'Hello Example from our Module (instance)!'\n")),(0,r.kt)("h4",{id:"what-is-shared-using-a-remote-instance"},"What is shared using a remote instance"),(0,r.kt)("p",null,"The remote instance are capable to share:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"events using ",(0,r.kt)("a",{parentName:"li",href:"/docs/help/Tutorials/nodejs/basics/eventemitters"},"EventEmitters")),(0,r.kt)("li",{parentName:"ul"},"properties using ",(0,r.kt)("a",{parentName:"li",href:"/docs/help/Tutorials/nodejs/basics/observables"},"Observables")),(0,r.kt)("li",{parentName:"ul"},"methods")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"nope-js project")," ",(0,r.kt)("strong",{parentName:"p"},"Tool")," supports you by building such modules."),(0,r.kt)("h3",{id:"constructors"},"Constructors"),(0,r.kt)("p",null,"Instead of using static instances ",(0,r.kt)("inlineCode",{parentName:"p"},"NoPE")," allows us to dynamically create instance. Therefore we must register a Constructor."),(0,r.kt)("p",null,"We beginn by creating a ",(0,r.kt)("strong",{parentName:"p"},"Constructor")," that will create instances of the type ",(0,r.kt)("inlineCode",{parentName:"p"},"HelloWorldModule")," for us. This constructor is essentially a method (following the same interface), which will be used in a factory to create the instances."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'// Now we register a Constructor\nawait instanceManager.registerConstructor(\n    // We must specify an identifier (Type-Identifier)\n    "HelloWorldModule",\n    // We now define our factory\n    async (core, identifier) => {\n        return new HelloWorldModule(core);\n    }\n);\n')),(0,r.kt)("admonition",{title:"Warning",type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Constructors must follow this definition. If you need additional attributes during creation of the instance you ",(0,r.kt)("strong",{parentName:"p"},"must")," add them as arguments to the ",(0,r.kt)("strong",{parentName:"p"},"init")," method of that classes. "),(0,r.kt)("p",{parentName:"admonition"},"NoPE enables the following order if using constructors:"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Create the instance using the ",(0,r.kt)("strong",{parentName:"li"},"factory")," registered as constructor"),(0,r.kt)("li",{parentName:"ol"},"Call the ",(0,r.kt)("strong",{parentName:"li"},"init")," method on the instance created by the ",(0,r.kt)("strong",{parentName:"li"},"factory"),". NoPE forwards the params to the ",(0,r.kt)("strong",{parentName:"li"},"init")," method."))),(0,r.kt)("p",null,"Now we have a constructor created. We should be able to figure out which construcors in ",(0,r.kt)("inlineCode",{parentName:"p"},"NoPE")," using the following code below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"remoteDispatcher.instanceManager.constructors.data.getContent();\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"constructors")," attribute will no list our constructor:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[ 'HelloWorldModule' ]\n")),(0,r.kt)("p",null,"Now we create a new instance of our module using the method ",(0,r.kt)("inlineCode",{parentName:"p"},"createInstance"),". The function will return a corresponding wrapper for the instance."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'let other = await instanceManager.createInstance({\n      identifier: "other",\n      type: "HelloWorldModule",\n      params: [],\n});\n')),(0,r.kt)("p",null,"Now we should have 2 instances. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"remoteDispatcher.instanceManager.instances.data.getContent()\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"instances")," attribute will now list:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[\n  {\n    author: {\n      forename: 'M.Karkowski',\n      surename: 'Karkowski',\n      mail: 'm.karkowski@zema.de'\n    },\n    description: 'An Example',\n    methods: { greet: [Object] },\n    events: {},\n    identifier: 'instance',\n    properties: {},\n    type: 'HelloWorldModule',\n    version: { date: 2023-05-02T22:00:00.000Z, version: 1 },\n    uiLinks: []\n  },\n  {\n    author: {\n      forename: 'M.Karkowski',\n      surename: 'Karkowski',\n      mail: 'm.karkowski@zema.de'\n    },\n    description: 'An Example',\n    methods: { greet: [Object] },\n    events: {},\n    identifier: 'other',\n    properties: {},\n    type: 'HelloWorldModule',\n    version: { date: 2023-05-02T22:00:00.000Z, version: 1 },\n    uiLinks: []\n  }\n]\n")),(0,r.kt)("p",null,"We are now able to interact with the wrapper like it is an internal element:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'await other.greet("Example");\n')),(0,r.kt)("p",null,"The call will be forwarded using the ",(0,r.kt)("strong",{parentName:"p"},"RPC-Manager")," in the background"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'Hello Example from our Module (other)!'\n")),(0,r.kt)("p",null,"If the instance isnt requried anymore we can dispose it. This will NoPE to check, if other Runtimes although access the instance. If not the instance is disposed."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"await other.dispose();\n")),(0,r.kt)("p",null,"In our case, just one element used the instance, this results in removing the instance."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"remoteDispatcher.instanceManager.instances.data.getContent()\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"instances")," attribute wont list the ",(0,r.kt)("inlineCode",{parentName:"p"},"other")," instance any more:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"[\n  {\n    author: {\n      forename: 'M.Karkowski',\n      surename: 'Karkowski',\n      mail: 'm.karkowski@zema.de'\n    },\n    description: 'An Example',\n    methods: { greet: [Object] },\n    events: {},\n    identifier: 'instance',\n    properties: {},\n    type: 'HelloWorldModule',\n    version: { date: 2023-05-02T22:00:00.000Z, version: 1 },\n    uiLinks: []\n  }\n]\n")),(0,r.kt)("admonition",{title:"Info",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Instances can be used by different Runtimes the same time. To make shure you get those relevant infos, you should allways use the ",(0,r.kt)("strong",{parentName:"p"},"subscribe")," functionality on ",(0,r.kt)("em",{parentName:"p"},"properties")," oder ",(0,r.kt)("em",{parentName:"p"},"events"),".")),(0,r.kt)("admonition",{title:"Info",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Use the defined class interface only for dynamic classes. Otherwise use the ",(0,r.kt)("inlineCode",{parentName:"p"},"nope-js project")," tool to add classes!")))}u.isMDXComponent=!0}}]);